<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="{{ tagline }}">
        <!-- Removed keywords meta tag - generally ignored by search engines -->

        <meta name="author" content="{{ headline }}">

        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website">
        <meta property="og:title" content="{{ headline }}">
        <meta property="og:description" content="{{ tagline }}">
        {% if banner_path %}
            <meta property="og:image" content="{{ banner_path }}">
        {% endif %}

        <!-- Twitter -->
        <meta property="twitter:card" content="summary_large_image">
        <meta property="twitter:title" content="{{ headline }}">
        <meta property="twitter:description" content="{{ tagline }}">
        {% if banner_path %}
            <meta property="twitter:image" content="{{ banner_path }}">
        {% endif %}

        <title>{{ headline }} - {{ tagline }}</title>

        <!-- Stylesheets -->
        <!--
          IMPORTANT: Tailwind CSS should be compiled using its build process (e.g., npm run build)
          Replace the CDN link below with a link to your *compiled* CSS file (e.g., styles.css).
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css">
        -->
        <link rel="stylesheet" href="styles.css"> <!-- Placeholder for compiled CSS -->

        <!--
            Removed Font Awesome CDN. Use SVG icons directly (see sprite below) or a build step.
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        -->
        <!--
            Removed Animate.css CDN. Use Tailwind's built-in animation/transition utilities or IntersectionObserver for reveal effects.
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
        -->

        <!-- Self-Contained SVG Sprite Sheet - Add ONLY used icons -->
        <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
            <symbol id="icon-phone" viewBox="0 0 20 20" fill="currentColor">
                 <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"/>
            </symbol>
            <symbol id="icon-mail" viewBox="0 0 20 20" fill="currentColor">
                <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/>
                <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/>
            </symbol>
             <symbol id="icon-location" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"/>
            </symbol>
            <symbol id="icon-whatsapp" viewBox="0 0 24 24" fill="currentColor"> <!-- Basic Font Awesome path -->
                 <path d="M12.04 2C6.58 2 2.13 6.45 2.13 11.91C2.13 13.66 2.59 15.33 3.4 16.81L2.1 21.9L7.42 20.61C8.84 21.32 10.39 21.72 12.04 21.72C17.5 21.72 21.95 17.27 21.95 11.81C21.95 6.35 17.5 2 12.04 2M12.04 19.93C10.54 19.93 9.1 19.5 7.85 18.73L7.55 18.54L5.32 19.18L5.97 17L5.77 16.69C4.91 15.32 4.42 13.67 4.42 11.91C4.42 7.7 7.83 4.29 12.04 4.29C16.25 4.29 19.66 7.7 19.66 11.91C19.66 16.12 16.25 19.93 12.04 19.93M17.41 14.6C17.16 14.48 15.89 13.84 15.65 13.75C15.42 13.66 15.25 13.61 15.09 13.85C14.93 14.09 14.43 14.71 14.28 14.87C14.14 15.03 14 15.05 13.75 14.93C13.51 14.81 12.52 14.45 11.37 13.43C10.46 12.63 9.89 11.64 9.73 11.39C9.57 11.15 9.7 11.04 9.82 10.92C9.93 10.8 10.09 10.59 10.23 10.43C10.37 10.27 10.42 10.15 10.53 9.96C10.64 9.77 10.59 9.6 10.5 9.46C10.41 9.32 9.77 7.71 9.53 7.14C9.3 6.57 9.06 6.62 8.89 6.61H8.4C8.16 6.61 7.93 6.66 7.74 6.89C7.55 7.12 6.93 7.7 6.93 8.89C6.93 10.08 7.77 11.2 7.91 11.36C8.05 11.52 9.76 14.14 12.37 15.3C14.98 16.46 14.98 15.98 15.3 15.93C15.62 15.88 16.89 15.18 17.14 14.93C17.39 14.68 17.39 14.5 17.41 14.41C17.41 14.32 17.26 14.27 17.41 14.6Z" />
            </symbol>
             <symbol id="icon-facebook" viewBox="0 0 24 24" fill="currentColor">
                 <path d="M14 13.5H16.5L17.5 9.5H14V7.5C14 6.47 14 5.5 16 5.5H17.5V2.14C17.174 2.097 15.943 2 14.643 2C11.928 2 10 3.657 10 6.7V9.5H7V13.5H10V22H14V13.5Z" />
             </symbol>
             <symbol id="icon-twitter" viewBox="0 0 24 24" fill="currentColor">
                 <path d="M22.46 6C21.71 6.3 20.91 6.5 20.06 6.6C20.91 6.1 21.56 5.3 21.88 4.3C21.08 4.8 20.23 5.1 19.34 5.3C18.6 4.5 17.55 4 16.4 4C14.2 4 12.39 5.8 12.39 8C12.39 8.3 12.42 8.6 12.48 8.9C8.7 8.7 5.4 6.9 3.1 4.1C2.7 4.7 2.5 5.4 2.5 6.2C2.5 7.5 3.2 8.7 4.2 9.4C3.6 9.4 3 9.2 2.4 9C2.4 11.1 3.9 12.9 5.9 13.3C5.5 13.4 5.2 13.5 4.8 13.5C4.5 13.5 4.2 13.5 3.9 13.4C4.5 15.1 6 16.3 7.7 16.3C6.3 17.4 4.6 18.1 2.8 18.1C2.5 18.1 2.2 18.1 1.9 18C3.6 19.2 5.6 20 7.8 20C16.4 20 20.8 12.9 20.8 6.5C20.8 6.3 20.8 6.1 20.7 5.9C21.5 5.4 22.1 4.7 22.46 3.8L22.46 6Z" />
             </symbol>
             <symbol id="icon-instagram" viewBox="0 0 24 24" fill="currentColor">
                 <path d="M7.8 2H16.2C19.4 2 22 4.6 22 7.8V16.2C22 19.4 19.4 22 16.2 22H7.8C4.6 22 2 19.4 2 16.2V7.8C2 4.6 4.6 2 7.8 2M7.6 4C5.6 4 4 5.6 4 7.6V16.4C4 18.4 5.6 20 7.6 20H16.4C18.4 20 20 18.4 20 16.4V7.6C20 5.6 18.4 4 16.4 4H7.6M17.2 6C17.7 6 18 6.3 18 6.8C18 7.2 17.7 7.6 17.2 7.6C16.8 7.6 16.4 7.2 16.4 6.8C16.4 6.3 16.8 6 17.2 6M12 7C14.8 7 17 9.2 17 12C17 14.8 14.8 17 12 17C9.2 17 7 14.8 7 12C7 9.2 9.2 7 12 7M12 9C10.3 9 9 10.3 9 12C9 13.7 10.3 15 12 15C13.7 15 15 13.7 15 12C15 10.3 13.7 9 12 9Z" />
             </symbol>
             <symbol id="icon-linkedin" viewBox="0 0 24 24" fill="currentColor">
                 <path d="M19 3A2 2 0 0 1 21 5V19A2 2 0 0 1 19 21H5A2 2 0 0 1 3 19V5A2 2 0 0 1 5 3H19M18.5 18.5V13.2A3.26 3.26 0 0 0 15.24 9.94C14.39 9.94 13.4 10.46 13 11.1V10.28H10.13V18.5H13V13.07C13 11.93 13.32 10.89 14.91 10.89C16.5 10.89 16.5 12.12 16.5 13.1V18.5H18.5M6.88 8.56A1.68 1.68 0 0 0 8.56 6.88C8.56 5.95 7.81 5.19 6.88 5.19C5.95 5.19 5.19 5.95 5.19 6.88A1.68 1.68 0 0 0 6.88 8.56M8.27 18.5V10.28H5.5V18.5H8.27Z" />
             </symbol>
             <symbol id="icon-menu" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                 <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
             </symbol>
             <symbol id="icon-arrow-up" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                 <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"/>
             </symbol>
             <!-- Icons for About Section -->
              <symbol id="icon-shield-check" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M10 1.944A11.954 11.954 0 002.166 5.002a12.016 12.016 0 00-.166 2.007C2 11.226 5.34 15.67 10 17.317c4.66-1.647 8-6.09 8-10.308a12.037 12.037 0 00-.166-2.007A11.954 11.954 0 0010 1.944zM9 11.586l-1.707-1.707a1 1 0 00-1.414 1.414l2.414 2.414a1 1 0 001.414 0l5.414-5.414a1 1 0 00-1.414-1.414L9 11.586z" clip-rule="evenodd" />
             </symbol>
             <symbol id="icon-lightning-bolt" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" clip-rule="evenodd" />
             </symbol>
              <symbol id="icon-users" viewBox="0 0 20 20" fill="currentColor">
                <path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z" />
              </symbol>
              <symbol id="icon-currency-dollar" viewBox="0 0 20 20" fill="currentColor">
                 <path d="M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.5 2.5 0 00-.567-.267C8.07 8.488 8 8.738 8 9v2c0 .262.07.512.433.65A1.91 1.91 0 019 12.125V14c0 .552.448 1 1 1s1-.448 1-1v-1.875c.366.07.707.18 1 .313V11a1 1 0 112 0v1.126a4.97 4.97 0 00-1.066-.359 1.912 1.912 0 01-.434-.65C12 11.262 12 11 12 11V9c0-.262-.07-.512-.433-.65a1.91 1.91 0 00-.567-.267V6.382a2.5 2.5 0 01.567.267c.363.138.433.388.433.65V8a1 1 0 112 0V7.125A4.97 4.97 0 0013 6.768V6a1 1 0 10-2 0v.768a4.971 4.971 0 00-1.066.359 1.912 1.912 0 00-.434.65C9.137 7.93 9 8.18 9 8.5v.5a1 1 0 102 0V9c0-.262.07-.512.433-.65z" />
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.093a4.91 4.91 0 00-1.654.296 1.912 1.912 0 00-.433.65A1.912 1.912 0 006 6.912V13a1 1 0 102 0v-1.093a4.91 4.91 0 001.654-.296 1.912 1.912 0 00.433-.65A1.912 1.912 0 0011 10.088V6a1 1 0 10-2 0v-.093a4.91 4.91 0 00-1.654-.296 1.912 1.912 0 00-.433-.65A1.912 1.912 0 006 4.088V4a1 1 0 10-2 0v.088a4.91 4.91 0 001.654.296A1.912 1.912 0 007.912 5a1.912 1.912 0 00.433.65c.08.14.15.283.206.428a1 1 0 001.898-.428A2.889 2.889 0 0111 5.088V5z" clip-rule="evenodd" />
             </symbol>
             <!-- Icons for Services Section -->
            <symbol id="icon-briefcase" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M5 4a3 3 0 013-3h4a3 3 0 013 3v1h-4v-1a1 1 0 10-2 0v1H5V4zm7 2v1h3V6h2a2 2 0 012 2v10a2 2 0 01-2 2H3a2 2 0 01-2-2V8a2 2 0 012-2h2v1h3V6h2zm-3 5a1 1 0 100 2h.01a1 1 0 100-2H9zm-2 1a1 1 0 11-2 0 1 1 0 012 0zm4 0a1 1 0 11-2 0 1 1 0 012 0z" clip-rule="evenodd" />
            </symbol>
             <symbol id="icon-lightbulb" viewBox="0 0 20 20" fill="currentColor">
                <path d="M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM15.657 5.757a1 1 0 00-1.414-1.414l-.707.707a1 1 0 001.414 1.414l.707-.707zM18 10a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM5.05 6.464A1 1 0 106.464 5.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zM5 10a1 1 0 01-1 1H3a1 1 0 110-2h1a1 1 0 011 1zM8 16v-1h4v1a2 2 0 11-4 0zM12 14c.015-.34.208-.646.477-.859a4 4 0 10-4.954 0c.27.213.462.519.476.859h4.002z" />
             </symbol>
            <symbol id="icon-chart" viewBox="0 0 20 20" fill="currentColor">
                 <path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z" />
            </symbol>
            <!-- Generic / Fallback -->
            <symbol id="icon-default" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" clip-rule="evenodd" />
             </symbol>
             <!-- Other needed icons -->
              <symbol id="icon-star" viewBox="0 0 20 20" fill="currentColor">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
              </symbol>
              <symbol id="icon-plus-circle" viewBox="0 0 20 20" fill="currentColor">
                 <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z" clip-rule="evenodd" />
              </symbol>
              <symbol id="icon-information-circle" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
              </symbol>
        </svg>

        <style>
            /* Define theme colors from the dynamic color scheme */
            :root {
                --color-primary: {{ colors.primary | default('#4A90E2') }};
                --color-secondary: {{ colors.secondary | default('#6FCF97') }};
                /* Use CSS variables for background and text */
                --color-background: {{ colors.background | default('#FFFFFF') }};
                --color-text: {{ colors.text | default('#333333') }};
                /* Generate RGB versions for opacity if needed */
                /* Add logic here or in Python to generate RGB from Hex if required by CSS */
                --transition-speed: 0.3s;
            }

            body {
                background-color: var(--color-background);
                color: var(--color-text);
                /* Consider setting a base font family */
            }

            /* Base styles using CSS variables */
            .bg-primary { background-color: var(--color-primary); }
            .text-primary { color: var(--color-primary); }
            .border-primary { border-color: var(--color-primary); }
            .bg-secondary { background-color: var(--color-secondary); }
            .text-secondary { color: var(--color-secondary); }
            .bg-gradient-primary { background: linear-gradient(135deg, var(--color-primary), var(--color-secondary)); }

            /* Ensure text on colored backgrounds has good contrast */
            /* You might need helper classes or adjust Tailwind config for this */
            .text-on-primary { color: {{ get_text_color(colors.primary) | default('#FFFFFF') }}; } /* Example: Needs Jinja helper or CSS logic */
            .text-on-secondary { color: {{ get_text_color(colors.secondary) | default('#333333') }}; }
            .text-on-gradient { color: {{ get_text_color(colors.primary) | default('#FFFFFF') }}; } /* Heuristic: Use primary's contrast */


            /* Animation classes (Keep or replace with Tailwind) */
            .fade-in { animation: fadeIn 1s ease-in-out; }
            /* ... other custom animations ... */

             /* Consider using Tailwind's animation/transition utilities */
            @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
            /* ... other keyframes ... */

            /* Hover effects (Keep or replace with Tailwind) */
            .hover-lift { transition: transform var(--transition-speed) ease, box-shadow var(--transition-speed) ease; }
            .hover-lift:hover { transform: translateY(-5px); box-shadow: 0 10px 25px rgba(0,0,0,0.1); }

            /* Section divider */
            .section-divider { height: 4px; width: 80px; background-color: var(--color-primary); margin: 0 auto 2rem; border-radius: 2px; }

            /* Hero section styles */
            .hero-section { background: var(--bg-gradient-primary, linear-gradient(120deg, var(--color-primary), var(--color-secondary))); position: relative; overflow: hidden; }
            .hero-section::before { /* Subtle overlay/pattern if desired */ content: ''; position: absolute; top: -50%; right: -50%; width: 100%; height: 100%; background: rgba(255,255,255,0.05); transform: rotate(30deg); pointer-events: none; }

            /* Mobile menu */
            .mobile-menu { transition: transform var(--transition-speed) ease; transform: translateX(-100%); }
            .mobile-menu.show { transform: translateX(0); }

            /* Scroll-triggered animations (Replace JS with IntersectionObserver) */
            .reveal { opacity: 0; transform: translateY(30px); transition: opacity 0.8s ease, transform 0.8s ease; }
            .reveal.active { opacity: 1; transform: translateY(0); }

             /* Service card hover effect */
            .service-card { transition: all var(--transition-speed) ease; border-top: 4px solid transparent; }
            .service-card:hover { border-top-color: var(--color-primary); transform: translateY(-5px); box-shadow: 0 10px 25px rgba(0,0,0,0.08); }
            .icon-circle { width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; background-color: {{ colors.primary | default('#4A90E2') }}1A; /* Primary with opacity */ color: var(--color-primary); transition: all var(--transition-speed) ease; }
            .service-card:hover .icon-circle { background-color: var(--color-primary); color: var(--color-background); /* Use background color for text on primary */ transform: rotateY(180deg); }

            /* Contact form styling (Example) */
            .form-input { transition: border-color var(--transition-speed) ease, box-shadow var(--transition-speed) ease; border: 1px solid #d1d5db; /* Tailwind gray-300 */ }
            .form-input:focus { border-color: var(--color-primary); box-shadow: 0 0 0 3px {{ colors.primary | default('#4A90E2') }}33; /* Primary with opacity */ outline: none; }

            /* Smooth scrolling */
            html { scroll-behavior: smooth; }

             /* Skip to content link */
            .skip-to-content { position: absolute; top: -40px; left: 0; background: var(--color-primary); color: var(--color-background); padding: 8px; z-index: 100; transition: top 0.3s ease; }
            .skip-to-content:focus { top: 0; }

            /* Reduced motion preferences */
            @media (prefers-reduced-motion: reduce) {
              html { scroll-behavior: auto; }
              .reveal, .hover-lift, .icon-circle, .service-card, * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
              }
            }

            /* Ensure high contrast for accessibility - Requires careful palette design */
            /* Add specific overrides if needed, e.g., for .text-on-primary */

        </style>
    </head>

    <body class="text-base"> <!-- Use body's color/bg from :root -->
        <!-- Accessibility skip link -->
        <a href="#main-content" class="skip-to-content">Skip to content</a>

        <!-- Navigation -->
        <nav class="bg-white shadow sticky top-0 z-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between h-20">
                    <div class="flex items-center">
                        {% if logo_path %}
                            <!-- Added loading=lazy -->
                            <img class="h-12 w-auto" src="{{ logo_path }}" alt="{{ headline }} logo" loading="lazy">
                        {% endif %}
                        <div class="ml-4">
                            <a href="#" class="text-2xl font-bold text-gray-900 hover:text-primary transition-colors">{{ headline }}</a>
                            <p class="text-sm text-gray-600">{{ tagline }}</p>
                        </div>
                    </div>

                    <!-- Desktop navigation -->
                    <div class="hidden md:flex md:items-center md:space-x-6">
                        <a href="#about" class="text-gray-700 hover:text-primary transition-colors">About</a>
                        {% if services %}
                            <a href="#services" class="text-gray-700 hover:text-primary transition-colors">Services</a>
                        {% endif %}
                        <a href="#contact" class="text-gray-700 hover:text-primary transition-colors">Contact</a>

                        {% if phone %}
                            <a href="tel:{{ phone }}" class="bg-primary text-on-primary px-4 py-2 rounded-lg hover:bg-opacity-90 transition-colors flex items-center">
                                <svg class="h-5 w-5 mr-2" fill="currentColor"><use href="#icon-phone" /></svg>
                                <span>Call Us</span>
                            </a>
                        {% endif %}
                    </div>

                    <!-- Mobile menu button -->
                    <div class="md:hidden flex items-center">
                        <button id="mobile-menu-button" aria-expanded="false" aria-controls="mobile-menu" class="text-gray-700 focus:outline-none">
                             <span class="sr-only">Open main menu</span>
                            <svg class="h-6 w-6"><use href="#icon-menu" /></svg>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Mobile menu -->
            <div id="mobile-menu" class="md:hidden bg-white border-t border-gray-200 hidden">
                <!-- Menu content... -->
                 <div class="px-2 pt-2 pb-3 space-y-1">
                    <a href="#about" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-gray-50 transition-colors">About</a>
                    {% if services %}
                        <a href="#services" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-gray-50 transition-colors">Services</a>
                    {% endif %}
                    <a href="#contact" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-gray-50 transition-colors">Contact</a>
                    {% if phone %}
                        <a href="tel:{{ phone }}" class="flex items-center px-3 py-2 rounded-md text-base font-medium text-primary">
                           <svg class="h-5 w-5 mr-2" fill="currentColor"><use href="#icon-phone" /></svg>
                            <span>{{ phone }}</span>
                        </a>
                    {% endif %}
                </div>
            </div>
        </nav>

        <!-- Hero Section -->
        <section class="hero-section py-20 px-4 sm:px-6 lg:px-8 text-on-gradient fade-in" id="main-content">
             <div class="max-w-7xl mx-auto">
                <div class="lg:flex lg:items-center lg:justify-between">
                    <div class="lg:w-1/2 slide-in-left"> <!-- Animation class (consider Tailwind/IntersectionObserver) -->
                        <h1 class="text-4xl sm:text-5xl font-extrabold tracking-tight mb-4">{{ headline }}</h1>
                        <p class="text-xl max-w-xl opacity-90 mb-8">{{ tagline }}</p>
                        <div class="flex flex-wrap gap-4">
                             <!-- Button styling adjusted -->
                            <a href="#contact" class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg shadow-sm text-primary bg-white hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-white transition-all hover-lift">
                                <svg class="h-5 w-5 mr-2" fill="currentColor"><use href="#icon-information-circle" /></svg>
                                Learn More
                            </a>
                            {% if email %}
                                <a href="mailto:{{ email }}?subject=Inquiry" target="_blank" class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg shadow-sm text-on-secondary bg-secondary hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-secondary transition-all hover-lift">
                                   <svg class="h-5 w-5 mr-2" fill="currentColor"><use href="#icon-mail" /></svg>
                                    Contact Us
                                </a>
                            {% endif %}
                        </div>
                    </div>
                     <div class="lg:w-1/2 mt-10 lg:mt-0 slide-in-right">
                        <div class="rounded-lg overflow-hidden shadow-2xl h-80 md:h-96">
                             {% if banner_path %}
                                <img src="{{ banner_path }}" alt="{{ headline }} banner" class="w-full h-full object-cover" loading="lazy">
                            {% else %}
                                <div class="w-full h-full bg-gradient-primary flex items-center justify-center">
                                     <div class="text-center p-8 text-on-gradient">
                                          <!-- Placeholder Graphic -->
                                         <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mx-auto mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1"> <path stroke-linecap="round" stroke-linejoin="round" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v14a1 1 0 01-1 1H5a1 1 0 01-1-1V5zm10 10l-3.5-3.5a1 1 0 00-1.414 0L5 16m10-4l-2 2m0 0l-2-2m2 2V7" /> </svg>
                                         <h3 class="text-xl font-bold">{{ headline }}</h3>
                                     </div>
                                 </div>
                            {% endif %}
                         </div>
                    </div>
                 </div>
             </div>
        </section>

        <!-- Stats Section -->
        {% if business_stats and business_stats | length > 0 %}
             <section class="py-12 bg-white">
                 <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                     <div class="grid grid-cols-2 md:grid-cols-{{ business_stats|length if business_stats|length <= 4 else 4 }} gap-8 text-center">
                         {% for stat in business_stats %}
                             <div class="reveal"> <!-- Use IntersectionObserver for this -->
                                 <div class="text-3xl sm:text-4xl font-bold text-primary">{{ stat.value }}</div>
                                 <div class="text-gray-600 mt-2">{{ stat.label }}</div>
                             </div>
                         {% endfor %}
                     </div>
                 </div>
             </section>
        {% endif %}

        <!-- About Section -->
        <section id="about" class="py-16 px-4 sm:px-6 lg:px-8 bg-gray-50"> <!-- bg-gray-50 or var(--color-background) lighter tint -->
            <div class="max-w-7xl mx-auto">
                 <div class="text-center mb-12 reveal"> <!-- Use IntersectionObserver -->
                    <h2 class="text-3xl sm:text-4xl font-bold text-gray-900">About Us</h2>
                     <div class="section-divider"></div>
                 </div>
                 <div class="grid md:grid-cols-2 gap-12 items-center">
                     <div class="reveal"> <!-- Use IntersectionObserver -->
                         <div class="relative">
                             {% if about_image %}
                                 <div class="bg-white shadow-xl rounded-lg p-2 relative z-10"> <!-- Reduced padding -->
                                     <img src="{{ about_image }}" alt="About {{ headline }}" class="w-full h-auto object-cover rounded" loading="lazy">
                                 </div>
                                 <!-- Decorative elements using theme colors -->
                                 <div class="absolute -bottom-4 -right-4 w-16 h-16 rounded-lg bg-primary opacity-10 z-0"></div>
                                 <div class="absolute -top-4 -left-4 w-16 h-16 rounded-lg bg-secondary opacity-10 z-0"></div>
                              {% else %}
                                  <!-- Fallback placeholder -->
                                 <div class="bg-gradient-primary text-on-gradient rounded-lg shadow-xl p-8 text-center aspect-square flex flex-col justify-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="mx-auto h-16 w-16 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1"> <path stroke-linecap="round" stroke-linejoin="round" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.24a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" /> </svg>
                                     <h3 class="text-xl font-bold">{{ headline }}</h3>
                                 </div>
                             {% endif %}
                         </div>
                     </div>
                     <div class="reveal"> <!-- Use IntersectionObserver -->
                         <p class="text-lg text-gray-700 mb-6">{{ about }}</p>
                         <div class="grid grid-cols-2 gap-4 mb-6">
                            <!-- Simplified feature blocks -->
                            {% for feature in [("Professional Service", "shield-check"), ("Fast Delivery", "lightning-bolt"), ("Expert Team", "users"), ("Best Value", "currency-dollar")] %}
                            <div class="bg-white rounded-lg p-4 shadow-sm hover-lift flex items-center">
                                <svg class="h-6 w-6 mr-3 text-primary" fill="currentColor"><use href="#icon-{{ feature[1] }}" /></svg>
                                <span class="font-medium text-gray-800">{{ feature[0] }}</span>
                            </div>
                            {% endfor %}
                         </div>
                         <a href="#contact" class="inline-flex items-center px-5 py-3 bg-primary text-on-primary rounded-lg hover:bg-opacity-90 transition-colors hover-lift">
                           <svg class="h-5 w-5 mr-2" fill="currentColor"><use href="#icon-plus-circle" /></svg>
                            <span>Get Started</span>
                        </a>
                    </div>
                 </div>
             </div>
        </section>

        <!-- Services Section -->
        {% if services and services | length > 0 %}
             <section id="services" class="py-16 px-4 sm:px-6 lg:px-8 bg-white">
                 <div class="max-w-7xl mx-auto">
                     <div class="text-center mb-12 reveal"> <!-- Use IntersectionObserver -->
                         <h2 class="text-3xl sm:text-4xl font-bold text-gray-900">Our Services</h2>
                         <div class="section-divider"></div>
                     </div>
                     <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                         {% for service in services %}
                             <div class="service-card bg-white rounded-lg shadow-md p-6 text-center reveal"> <!-- Use IntersectionObserver -->
                                <div class="icon-circle">
                                     <!-- Use provided icon or fallback -->
                                    <svg class="h-8 w-8" fill="currentColor"><use href="#icon-{{ service.icon | default('default') }}" /></svg>
                                 </div>
                                <h3 class="text-xl font-semibold mb-2 text-gray-900"> {{ service.name | default(service) }} </h3>
                                 <div class="w-16 h-0.5 bg-primary mx-auto mb-4 rounded"></div>
                                 {% if service.description %}
                                     <p class="text-gray-600">{{ service.description }}</p>
                                 {% endif %}
                             </div>
                         {% endfor %}
                     </div>
                 </div>
             </section>
        {% endif %}

        <!-- CTA Banner -->
        <section class="bg-gradient-primary py-16 px-4 sm:px-6 lg:px-8 text-on-gradient">
            <div class="max-w-7xl mx-auto text-center">
                 <h2 class="text-3xl sm:text-4xl font-bold mb-6 reveal">Ready to Get Started?</h2> <!-- Use IntersectionObserver -->
                 <p class="text-xl max-w-2xl mx-auto mb-8 opacity-90 reveal">Take the first step towards transforming your business today.</p>
                 <div class="reveal"> <!-- Use IntersectionObserver -->
                    <a href="#contact" class="inline-flex items-center px-6 py-3 border border-white text-base font-medium rounded-lg text-white hover:bg-white hover:text-primary transition-all hover-lift">
                       <svg class="h-5 w-5 mr-2" fill="currentColor"><use href="#icon-information-circle" /></svg>
                        Get in Touch
                    </a>
                </div>
             </div>
        </section>

        <!-- Testimonials Section -->
        {% if testimonials and testimonials | length > 0 %}
             <section class="py-16 px-4 sm:px-6 lg:px-8 bg-gray-50"> <!-- bg-gray-50 or var(--color-background) lighter tint -->
                 <div class="max-w-7xl mx-auto">
                    <div class="text-center mb-12 reveal"> <!-- Use IntersectionObserver -->
                         <h2 class="text-3xl sm:text-4xl font-bold text-gray-900">What Our Clients Say</h2>
                         <div class="section-divider"></div>
                     </div>
                    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                        {% for testimonial in testimonials %}
                             <div class="bg-white rounded-lg shadow-md p-6 flex flex-col hover-lift reveal"> <!-- Use IntersectionObserver -->
                                 <div class="flex items-center mb-4">
                                     <div class="flex-shrink-0">
                                         {% if testimonial.avatar %}
                                             <img class="h-12 w-12 rounded-full object-cover" src="{{ testimonial.avatar }}" alt="{{ testimonial.name }} avatar" loading="lazy">
                                         {% else %}
                                              <!-- Placeholder Avatar -->
                                             <div class="h-12 w-12 rounded-full bg-secondary text-on-secondary flex items-center justify-center">
                                                 <span class="text-lg font-bold">{{ testimonial.name|first|upper }}</span>
                                             </div>
                                         {% endif %}
                                     </div>
                                     <div class="ml-4">
                                         <h4 class="text-lg font-semibold text-gray-900">{{ testimonial.name }}</h4>
                                         {% if testimonial.title %}
                                             <p class="text-sm text-gray-600">{{ testimonial.title }}</p>
                                         {% endif %}
                                     </div>
                                 </div>
                                <div class="mb-3">
                                    {% set rating = testimonial.rating|default(5)|int %}
                                    {% for i in range(5) %}
                                        <svg class="h-5 w-5 inline-block {{ 'text-yellow-400' if i < rating else 'text-gray-300' }}" fill="currentColor"><use href="#icon-star" /></svg>
                                    {% endfor %}
                                 </div>
                                <blockquote class="italic text-gray-700 mb-4 flex-grow">"{{ testimonial.quote }}"</blockquote>
                                 {% if testimonial.company %}
                                     <p class="text-gray-600 text-sm mt-auto">{{ testimonial.company }}</p>
                                 {% endif %}
                            </div>
                        {% endfor %}
                     </div>
                 </div>
            </section>
        {% endif %}

        <!-- Contact Section -->
        <section id="contact" class="py-16 px-4 sm:px-6 lg:px-8 bg-white">
             <div class="max-w-7xl mx-auto">
                 <div class="text-center mb-12 reveal"> <!-- Use IntersectionObserver -->
                    <h2 class="text-3xl sm:text-4xl font-bold text-gray-900">Contact Us</h2>
                     <div class="section-divider"></div>
                 </div>
                <div class="bg-gray-50 rounded-lg shadow-lg overflow-hidden reveal"> <!-- Use IntersectionObserver -->
                     <div class="grid md:grid-cols-2">
                        <div class="bg-gradient-primary p-8 text-on-gradient">
                             <h3 class="text-2xl font-bold mb-6">Get In Touch</h3>
                             <p class="mb-8 opacity-90">Have questions? Reach out via email, phone, or find us on social media:</p>
                            <div class="space-y-6">
                                 {% if email %}
                                    <div class="flex items-start">
                                        <div class="flex-shrink-0 h-10 w-10 rounded-full bg-white/10 flex items-center justify-center"><svg class="h-5 w-5"><use href="#icon-mail" /></svg></div>
                                        <div class="ml-4"><h4 class="text-lg font-medium">Email</h4><a href="mailto:{{ email }}" class="hover:underline">{{ email }}</a></div>
                                    </div>
                                {% endif %}
                                {% if phone %}
                                    <div class="flex items-start">
                                        <div class="flex-shrink-0 h-10 w-10 rounded-full bg-white/10 flex items-center justify-center"><svg class="h-5 w-5"><use href="#icon-phone" /></svg></div>
                                        <div class="ml-4"><h4 class="text-lg font-medium">Phone</h4><a href="tel:{{ phone }}" class="hover:underline">{{ phone }}</a></div>
                                    </div>
                                {% endif %}
                                {% if location %}
                                     <div class="flex items-start">
                                         <div class="flex-shrink-0 h-10 w-10 rounded-full bg-white/10 flex items-center justify-center"><svg class="h-5 w-5"><use href="#icon-location" /></svg></div>
                                         <div class="ml-4"><h4 class="text-lg font-medium">Location</h4>
                                             <p> {% if location.address %}{{ location.address }}{% endif %}{% if location.address and (location.city or location.state) %}, {% endif %} {% if location.city %}{{ location.city }}{% endif %}{% if location.state %}, {{ location.state }}{% endif %}{% if location.zip %} {{ location.zip }}{% endif %}{% if location.country and (location.address or location.city or location.state) %}, {% endif %}{% if location.country %}{{ location.country }}{% endif %} </p>
                                         </div>
                                     </div>
                                {% endif %}
                                {% if phone %}
                                     <div class="flex items-start">
                                         <div class="flex-shrink-0 h-10 w-10 rounded-full bg-white/10 flex items-center justify-center"><svg class="h-5 w-5"><use href="#icon-whatsapp" /></svg></div>
                                         <div class="ml-4"><h4 class="text-lg font-medium">WhatsApp</h4><a href="https://wa.me/{{ phone | replace(' ', '') | replace('-', '') | replace('(', '') | replace(')', '') }}?text=Inquiry" target="_blank" class="hover:underline">Message Us</a></div>
                                     </div>
                                {% endif %}
                             </div>
                             {% if social %}
                                <div class="mt-8">
                                    <h4 class="text-lg font-medium mb-4">Follow Us</h4>
                                     <div class="flex space-x-4">
                                         <!-- Social Links using SVG sprite -->
                                         {% if social.facebook %}<a href="https://facebook.com/{{ social.facebook }}" target="_blank" class="h-10 w-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-colors"><span class="sr-only">Facebook</span><svg class="h-5 w-5"><use href="#icon-facebook" /></svg></a>{% endif %}
                                         {% if social.twitter %}<a href="https://twitter.com/{{ social.twitter }}" target="_blank" class="h-10 w-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-colors"><span class="sr-only">Twitter</span><svg class="h-5 w-5"><use href="#icon-twitter" /></svg></a>{% endif %}
                                         {% if social.instagram %}<a href="https://instagram.com/{{ social.instagram }}" target="_blank" class="h-10 w-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-colors"><span class="sr-only">Instagram</span><svg class="h-5 w-5"><use href="#icon-instagram" /></svg></a>{% endif %}
                                         {% if social.linkedin %}<a href="{{ social.linkedin }}" target="_blank" class="h-10 w-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-colors"><span class="sr-only">LinkedIn</span><svg class="h-5 w-5"><use href="#icon-linkedin" /></svg></a>{% endif %}
                                     </div>
                                 </div>
                            {% endif %}
                         </div>
                         <div class="p-8 bg-white">
                            <!-- Simple Contact Form Placeholder or Quick Links -->
                             <h3 class="text-2xl font-bold text-gray-900 mb-6">Send a Message</h3>
                             <form action="#" method="POST"> <!-- Add your form handler URL -->
                                <div class="grid grid-cols-1 gap-y-6">
                                    <div><label for="name" class="sr-only">Full name</label><input type="text" name="name" id="name" autocomplete="name" class="form-input block w-full shadow-sm py-3 px-4 placeholder-gray-500 rounded-md" placeholder="Full name" required></div>
                                    <div><label for="email" class="sr-only">Email</label><input id="email" name="email" type="email" autocomplete="email" class="form-input block w-full shadow-sm py-3 px-4 placeholder-gray-500 rounded-md" placeholder="Email" required></div>
                                    <div><label for="message" class="sr-only">Message</label><textarea id="message" name="message" rows="4" class="form-input block w-full shadow-sm py-3 px-4 placeholder-gray-500 rounded-md" placeholder="Message" required></textarea></div>
                                    <div><button type="submit" class="w-full inline-flex justify-center py-3 px-6 border border-transparent shadow-sm text-base font-medium rounded-md text-on-primary bg-primary hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary">Send Message</button></div>
                                </div>
                             </form>
                        </div>
                     </div>
                </div>
             </div>
        </section>

        <!-- Footer -->
        <footer class="bg-gray-900 text-gray-400 py-12 px-4 sm:px-6 lg:px-8"> <!-- Use text-gray-400 -->
             <div class="max-w-7xl mx-auto">
                 <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
                     <div> <!-- Footer Col 1: Logo & Tagline -->
                         <div class="flex items-center mb-4">
                             {% if logo_path %}<img src="{{ logo_path }}" alt="{{ headline }}" class="h-10 mr-3" loading="lazy">{% endif %}
                             <h3 class="text-xl font-bold text-white">{{ headline }}</h3> <!-- Use text-white for headline -->
                         </div>
                         <p class="text-sm">{{ tagline }}</p>
                     </div>
                     <div> <!-- Footer Col 2: Quick Links -->
                         <h4 class="text-lg font-semibold text-white mb-4">Quick Links</h4>
                         <ul class="space-y-2 text-sm">
                             <li><a href="#" class="hover:text-white transition-colors">Home</a></li>
                             <li><a href="#about" class="hover:text-white transition-colors">About</a></li>
                             {% if services %}<li><a href="#services" class="hover:text-white transition-colors">Services</a></li>{% endif %}
                             <li><a href="#contact" class="hover:text-white transition-colors">Contact</a></li>
                         </ul>
                     </div>
                     <div> <!-- Footer Col 3: Contact Info -->
                         <h4 class="text-lg font-semibold text-white mb-4">Contact Info</h4>
                         <ul class="space-y-3 text-sm">
                             {% if email %}<li class="flex items-center"><svg class="h-5 w-5 mr-2 text-primary" fill="currentColor"><use href="#icon-mail" /></svg><a href="mailto:{{ email }}" class="hover:text-white transition-colors">{{ email }}</a></li>{% endif %}
                             {% if phone %}<li class="flex items-center"><svg class="h-5 w-5 mr-2 text-primary" fill="currentColor"><use href="#icon-phone" /></svg><a href="tel:{{ phone }}" class="hover:text-white transition-colors">{{ phone }}</a></li>{% endif %}
                             {% if location %}<li class="flex items-start"><svg class="h-5 w-5 mr-2 text-primary mt-0.5 flex-shrink-0" fill="currentColor"><use href="#icon-location" /></svg><span>{% if location.city %}{{ location.city }}{% endif %}{% if location.state %}, {{ location.state }}{% endif %}{% if location.country %}, {{ location.country }}{% endif %}</span></li>{% endif %}
                             {% if phone %}<li class="flex items-center"><svg class="h-5 w-5 mr-2 text-green-500" fill="currentColor"><use href="#icon-whatsapp" /></svg><a href="https://wa.me/{{ phone | replace(' ', '') | replace('-', '') | replace('(', '') | replace(')', '') }}?text=Inquiry" target="_blank" class="hover:text-white transition-colors">WhatsApp Us</a></li>{% endif %}
                         </ul>
                         {% if social %}
                            <div class="mt-4 flex space-x-4">
                                {% if social.facebook %}<a href="https://facebook.com/{{ social.facebook }}" target="_blank" class="hover:text-white transition-colors"><span class="sr-only">Facebook</span><svg class="h-5 w-5"><use href="#icon-facebook" /></svg></a>{% endif %}
                                {% if social.twitter %}<a href="https://twitter.com/{{ social.twitter }}" target="_blank" class="hover:text-white transition-colors"><span class="sr-only">Twitter</span><svg class="h-5 w-5"><use href="#icon-twitter" /></svg></a>{% endif %}
                                {% if social.instagram %}<a href="https://instagram.com/{{ social.instagram }}" target="_blank" class="hover:text-white transition-colors"><span class="sr-only">Instagram</span><svg class="h-5 w-5"><use href="#icon-instagram" /></svg></a>{% endif %}
                                {% if social.linkedin %}<a href="{{ social.linkedin }}" target="_blank" class="hover:text-white transition-colors"><span class="sr-only">LinkedIn</span><svg class="h-5 w-5"><use href="#icon-linkedin" /></svg></a>{% endif %}
                            </div>
                         {% endif %}
                     </div>
                 </div>
                <div class="border-t border-gray-800 pt-8 mt-8 text-center text-sm">
                     <p>Â© {{ "now"|date("Y") }} {{ headline }}. All rights reserved.</p>
                 </div>
             </div>
        </footer>

        <!-- Scroll to top button -->
        <button id="scrollToTop" class="fixed bottom-6 right-6 h-12 w-12 rounded-full bg-primary text-on-primary flex items-center justify-center shadow-lg z-40 opacity-0 pointer-events-none transition-opacity focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary">
            <span class="sr-only">Scroll to top</span>
            <svg class="h-6 w-6"><use href="#icon-arrow-up" /></svg>
        </button>

        <!-- JavaScript -->
        <script>
            // Mobile menu toggle
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', () => {
                    const isExpanded = mobileMenuButton.getAttribute('aria-expanded') === 'true';
                    mobileMenu.classList.toggle('hidden');
                    mobileMenuButton.setAttribute('aria-expanded', !isExpanded);
                    // Basic focus management (more robust needed for production)
                    // if (!isExpanded) { mobileMenu.querySelector('a')?.focus(); }
                });
            }

            // Scroll to top functionality
            const scrollToTopButton = document.getElementById('scrollToTop');
            if (scrollToTopButton) {
                window.addEventListener('scroll', () => {
                    if (window.pageYOffset > 300) {
                        scrollToTopButton.classList.remove('opacity-0', 'pointer-events-none');
                        scrollToTopButton.classList.add('opacity-100', 'pointer-events-auto');
                    } else {
                        scrollToTopButton.classList.remove('opacity-100', 'pointer-events-auto');
                        scrollToTopButton.classList.add('opacity-0', 'pointer-events-none');
                    }
                }, { passive: true }); // Use passive listener

                scrollToTopButton.addEventListener('click', () => {
                    window.scrollTo({top: 0, behavior: 'smooth'});
                });
            }

            // Reveal animations on scroll (REPLACE with IntersectionObserver)
            // The old scroll listener approach is inefficient.
            // Use IntersectionObserver API for better performance.
            /*
            Example using IntersectionObserver:

            const revealElements = document.querySelectorAll('.reveal');
            const observer = new IntersectionObserver((entries) => {
              entries.forEach(entry => {
                if (entry.isIntersecting) {
                  entry.target.classList.add('active');
                  // Optional: stop observing once revealed
                  // observer.unobserve(entry.target);
                }
              });
            }, {
              threshold: 0.1 // Trigger when 10% of the element is visible
            });

            revealElements.forEach(el => observer.observe(el));
            */

            // TEMP: Basic reveal for demonstration if IntersectionObserver isn't added yet.
            const revealElements = document.querySelectorAll('.reveal');
            const checkReveal = () => {
                 const windowHeight = window.innerHeight;
                 revealElements.forEach(element => {
                    const revealTop = element.getBoundingClientRect().top;
                    if (revealTop < windowHeight - 100) { // Adjust offset
                        element.classList.add('active');
                    }
                 });
            };
             window.addEventListener('scroll', checkReveal, { passive: true });
             document.addEventListener('DOMContentLoaded', checkReveal); // Run once on load


            // Icon Fallback (Optional, basic check) - Handled better by direct sprite inclusion now
            document.addEventListener('DOMContentLoaded', function() {
                document.querySelectorAll('svg use').forEach(use => {
                    try {
                         const symbolId = use.getAttribute('href');
                         if (symbolId && !document.querySelector(symbolId)) {
                            console.warn(`SVG symbol ${symbolId} not found, using default.`);
                            use.setAttribute('href', '#icon-default');
                         }
                    } catch (e) { console.error('Error checking SVG use element:', e); }
                });
            });
        </script>
    </body>
</html>
